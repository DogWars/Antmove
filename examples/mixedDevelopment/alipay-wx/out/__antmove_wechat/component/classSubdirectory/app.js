"use strict";var utils=require("../../api/utils"),warnLife=utils.warnLife,config={env:"development"},getUrl=function(){var e=getCurrentPages();if(0<e.length){var n=e[e.length-1].route,t=n.split("/"),r=t[t.length-1];wx.setStorageSync("_pageMsg",{pageName:r,pagePath:n})}},watchShakes=function t(){var e=getCurrentPages();if(0<e.length){var n=e[e.length-1].route;if("pages/ant-move-runtime-logs/index"===n||"pages/ant-move-runtime-logs/specific/index"===n)return;wx.watchShake({success:function(){t();var e=wx.getStorageSync({key:"timer"}),n=(new Date).getTime();null===e.data&&wx.setStorageSync("timer",{timer:n}),e.data&&e.data.timer+5e3>n&&wx.confirm({title:"温馨提示",content:"是否进入警告日志页面",confirmButtonText:"马上进入",cancelButtonText:"暂不需要",success:function(e){e.confirm&&wx.navigateTo({url:"../../pages/ant-move-runtime-logs/index"})}}),e.data&&wx.setStorageSync("timer",{timer:n})}})}},makeLifes=function(n,r){r.onPageNotFound&&warnLife("There is no onPageNotFound life cycle","onPageNotFound"),n.onLaunch=function(e){wx.clearStorageSync({key:"logInfo"}),wx.clearStorageSync({key:"_pageMsg"}),getUrl(),"development"===config.env&&watchShakes();var t={};r.onLaunch&&(t={params:{referrerInfo:{props:{sourceServiceId:{type:0,desc:"missing"}}}}},e=function(e){var n=0<arguments.length&&void 0!==e?e:{};return utils.defineGetter(n,t.params,function(e,n){warnLife("onLaunch return value is not support ".concat(n," attribute!"),"onLaunch")})}(e),r.onLaunch.call(this,e)),n.onShow=function(e){var t={};r.onShow&&(t={params:{referrerInfo:{props:{sourceServiceId:{type:0,desc:"missing"}}}}},e=function(e){var n=0<arguments.length&&void 0!==e?e:{};return utils.defineGetter(n,t.params,function(e,n){warnLife("onShow return value is not support ".concat(n," attribute!"),"onShow")})}(e),r.onShow.call(this,e))},r.onHide&&(n.onHide=function(){r.onHide.call(this)}),r.onError&&(n.onError=function(){r.onError.call(this)})}};module.exports={processTransformationApp:function(e,n){return e=Object.assign(e,n),makeLifes(e,n),e}};