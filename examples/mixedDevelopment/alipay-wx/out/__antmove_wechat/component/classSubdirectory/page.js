"use strict";function ownKeys(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(t,!0).forEach(function(e){_defineProperty(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var utils=require("../../api/utils"),warnLife=utils.warnLife,getUrl=function(){var e=getCurrentPages(),n=e[e.length-1].route,t=n.split("/"),r=t[t.length-1];return wx.setStorageSync("_pageMsg",{pageName:r,pagePath:n}),n},makeEventObj=function(e,n){var t=["data","events","onLoad","onShow","onReady","onHide","onUnload","onShareAppMessage","onTitleClick","onOptionMenuClick","onPopMenuClick","onPullDownRefresh","onPullIntercept","onTabItemTap","onPageScroll","onReachBottom"];Object.keys(n).map(function(e){if(-1===t.indexOf(e)){var r=n[e];n[e]=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n[0]&&n[0].target?(n[0].target.dataset=_objectSpread({},n[0].currentTarget.dataset)||{},r.call(this,n[0])):r.apply(this,n)}}})},makeLife=function(e,n){e.onLoad=function(e){getUrl(),n.events&&warnLife("There is no events life cycle","events"),n.onTitleClick&&warnLife("There is no onTitleClick life cycle","onTitleClick"),n.onOptionMenuClick&&warnLife("There is no onOptionMenuClick life cycle","onOptionMenuClick"),n.onPopMenuClick&&warnLife("There is no onPopMenuClick life cycle","onPopMenuClick"),n.onPullIntercept&&warnLife("There is no onPullIntercept life cycle","onPullIntercept"),n.onLoad&&n.onLoad.call(this,e)}};module.exports={processTransformationPage:function(e,n){return makeEventObj(e,n),e=Object.assign(e,n),makeLife(e,n),e}};